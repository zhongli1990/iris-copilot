{
  "generatedAt": "2026-02-20T09:12:44.652Z",
  "version": "0.1.2",
  "namespace": "DEMO2_AI2",
  "runner": "openai-codex-sdk",
  "total": 10,
  "passed": 9,
  "failed": 1,
  "outcomes": [
    {
      "id": "RW01",
      "title": "Production topology full detail",
      "query": "List all production hosts with full details.",
      "pass": true,
      "checks": [
        "target in [\"production/topology\"] => actual 'production/topology' : PASS",
        "requiresApproval=false => actual false : PASS",
        "response includes any [\"Production hosts (\",\"Current production has\"] : PASS",
        "response excludes [\"Prepare integration change plan\"] : PASS"
      ],
      "responsePreview": "Action plan generated from your request.\n\nProduction hosts (73):\n- to.SCR eImport Oscopy | EnsLib.HL7.Operation.TCPOperation | Unknown | Disabled\n- to.SCR eImport Pathology | EnsLib.HL7.Operation.TCPOperation | Unknown | Disabled\n- to.SCR eImport Radiology | EnsLib.HL7.Operation.TCPOperation | Unknown | Disabled\n- to.RMS eImport Oscopy | EnsLib.HL7.Operation.TCPOperation | Unknown | Disabled\n- to.RMS eImport Radiology | EnsLib.HL7.Operation.TCPOperation | Unknown | Disabled\n- Lab ORM Router | En",
      "action": {
        "id": "prod-topology-1",
        "type": "production_topology",
        "op": "query",
        "target": "production/topology",
        "summary": "List all production hosts with full details",
        "requiresApproval": false,
        "status": "executed",
        "endpoint": "/production/topology",
        "method": "GET",
        "payload": {}
      }
    },
    {
      "id": "RW02",
      "title": "Queue depth overview",
      "query": "Show queue depth for all hosts.",
      "pass": true,
      "checks": [
        "target in [\"production/queues\"] => actual 'production/queues' : PASS",
        "requiresApproval=false => actual false : PASS",
        "response includes any [\"Queue counts\",\"Current queue counts\",\"No queue rows were returned.\"] : PASS",
        "response excludes [\"Prepare integration change plan\"] : PASS"
      ],
      "responsePreview": "Action plan generated from your request.\n\nNo queue rows were returned.\n\nExecution results:\n- Queue snapshot read: 0 host(s).",
      "action": {
        "id": "queue-counts-1",
        "type": "queue_counts",
        "op": "query",
        "target": "production/queues",
        "summary": "Show queue depth for all hosts",
        "requiresApproval": false,
        "status": "executed",
        "endpoint": "/production/queues",
        "method": "GET",
        "payload": {}
      }
    },
    {
      "id": "RW03",
      "title": "Recent production events",
      "query": "Show recent production events.",
      "pass": true,
      "checks": [
        "target in [\"production/events\"] => actual 'production/events' : PASS",
        "requiresApproval=false => actual false : PASS",
        "response includes any [\"Recent events\",\"Recent production events\"] : PASS",
        "response excludes [\"Prepare integration change plan\"] : PASS"
      ],
      "responsePreview": "Action plan generated from your request.\n\nRecent events (50):\n-  |  |  | Production 'NHSTIE2.Production.OCSProduction' is up-to-date.\n-  |  |  | Production 'NHSTIE2.Production.OCSProduction' updating...\n-  |  |  | Production 'NHSTIE2.Production.OCSProduction' updated.\n-  |  |  | ConfigItem 'to.BHR.Cardio.ORM' (EnsLib.HL7.Operation.TCPOperation) stopped in job 79696\n-  |  |  | Stopping job '79696' (to.BHR.Cardio.ORM)\n-  |  |  | ConfigItem 'To.Sectra.ORM' (EnsLib.HL7.Operation.TCPOperation) stoppe",
      "action": {
        "id": "prod-events-1",
        "type": "event_log",
        "op": "query",
        "target": "production/events",
        "summary": "Show recent production events",
        "requiresApproval": false,
        "status": "executed",
        "endpoint": "/production/events",
        "method": "GET",
        "payload": {}
      }
    },
    {
      "id": "RW04",
      "title": "Lookup table content",
      "query": "Show lookup table ErrorCodes content.",
      "pass": true,
      "checks": [
        "target in [\"lookup/ErrorCodes\"] => actual 'lookup/ErrorCodes' : PASS",
        "requiresApproval=false => actual false : PASS",
        "response includes any [\"Lookup table ErrorCodes\",\"has no entries\"] : PASS",
        "response excludes [\"Prepare integration change plan\"] : PASS"
      ],
      "responsePreview": "Lookup table ErrorCodes entries (23):\n- DC01.01 => Patient Data Missing\n- DC01.02 => Document Data Missing\n- DC01.03 => Document Notes Exceeds 255 Characters\n- DC01.04 => Sender Organisation Exceeds 255 Characters\n- DC01.05 => Sender Department Exceeds 255 Characters\n- DC01.06 => Sender Person Exceeds 255 Characters\n- DC01.07 => Patient Family Name Exceeds 255 Characters\n- DC01.08 => Patient Given Names Exceeds 255 Characters\n- DC01.09 => Patient Birth Date Missing or Future Date\n- DC01.11 => Cl",
      "action": {
        "id": "act-1771578764604-672",
        "type": "lookup_read",
        "op": "query",
        "target": "lookup/ErrorCodes",
        "summary": "Read lookup table 'ErrorCodes' entries.",
        "requiresApproval": false,
        "status": "executed",
        "payload": {
          "args": {}
        }
      }
    },
    {
      "id": "RW05",
      "title": "Class metadata query",
      "query": "Show metadata for class AIAgent.API.Dispatcher.",
      "pass": false,
      "checks": [
        "target in [\"classmeta/AIAgent.API.Dispatcher\"] => actual '' : FAIL",
        "requiresApproval=false => actual false : PASS",
        "response includes any [\"Class metadata:\",\"Methods:\"] : FAIL",
        "response excludes [\"Prepare integration change plan\"] : PASS"
      ],
      "responsePreview": "I could not execute the requested operation. Error: IRIS API error: 404 Not Found",
      "action": {}
    },
    {
      "id": "RW06",
      "title": "Invocation policy query",
      "query": "Show invocation policy.",
      "pass": true,
      "checks": [
        "target in [\"invoke-policy\"] => actual 'invoke-policy' : PASS",
        "requiresApproval=false => actual false : PASS",
        "response includes any [\"Invocation policy:\",\"Mode:\"] : PASS",
        "response excludes [\"Prepare integration change plan\"] : PASS"
      ],
      "responsePreview": "Invocation policy:\n- Mode: allow-by-default\n- Max arguments: 4\n\nExecution results:\n- Invocation policy read.",
      "action": {
        "id": "act-1771578764616-698",
        "type": "invoke_policy_read",
        "op": "discover",
        "target": "invoke-policy",
        "summary": "Read current generic class invocation policy.",
        "requiresApproval": false,
        "status": "executed",
        "payload": {
          "args": {}
        }
      }
    },
    {
      "id": "RW07",
      "title": "Class catalog by package pattern",
      "query": "List classes in the NHSTIE2.* packages.",
      "pass": true,
      "checks": [
        "target in [\"dictionary/classes\"] => actual 'dictionary/classes' : PASS",
        "requiresApproval=false => actual false : PASS",
        "response includes any [\"Classes (\",\"Dictionary class catalog read\"] : PASS",
        "response excludes [\"Prepare integration change plan\"] : PASS"
      ],
      "responsePreview": "Classes (166):\n- NHSTIE2.Alert.Rule | Ens.Rule.Definition\n- NHSTIE2.App.CardioBridgeORU.Data.ProcedureCode | %Persistent\n- NHSTIE2.App.CardioBridgeORU.Data.SolicitedOrderStaging | %Persistent\n- NHSTIE2.App.CardioBridgeORU.Message.AdminMessage | Ens.Request,%XML.Adaptor,Ens.Util.MessageBodyMethods\n- NHSTIE2.App.CardioBridgeORU.Message.AlertMessage | Ens.AlertRequest\n- NHSTIE2.App.CardioBridgeORU.Message.AlertMessageVirtualProps | \n- NHSTIE2.App.CardioBridgeORU.Message.DeviceMetaXML | Ens.Request\n",
      "action": {
        "id": "act-1771578764622-1",
        "type": "dictionary_classes_read",
        "op": "query",
        "target": "dictionary/classes",
        "summary": "List classes matching pattern 'NHSTIE2.%'.",
        "requiresApproval": false,
        "status": "executed",
        "payload": {
          "args": {
            "pattern": "NHSTIE2.%",
            "maxRows": 500
          }
        }
      }
    },
    {
      "id": "RW08",
      "title": "Dry-run add disabled host",
      "query": "Create a plan to add a disabled test business host named AIAgent.DryRun.TestHost, dry-run only.",
      "pass": true,
      "checks": [
        "target in [\"production/host/add\"] => actual 'production/host/add' : PASS",
        "requiresApproval=false => actual false : PASS",
        "response includes any [\"Dry-run executed\",\"\\\"dry_run\\\"\"] : PASS",
        "response excludes [\"Prepare integration change plan\"] : PASS"
      ],
      "responsePreview": "Dry-run executed. No production mutation was applied.\n\nResult:\n```json\n{\n  \"status\": \"dry_run\",\n  \"target\": \"production/host/add\",\n  \"message\": \"Mutation was not applied because dryRun=true\"\n}\n```",
      "action": {
        "id": "act-1771578764641-169",
        "type": "add_production_host",
        "op": "mutate",
        "target": "production/host/add",
        "summary": "Add host 'AIAgent.DryRun.TestHost' (Ens.BusinessService), enabled=false.",
        "requiresApproval": false,
        "status": "executed",
        "payload": {
          "args": {
            "config": {
              "name": "AIAgent.DryRun.TestHost",
              "className": "Ens.BusinessService",
              "category": "AIGenerated",
              "enabled": false
            }
          }
        }
      }
    },
    {
      "id": "RW09",
      "title": "Apply add host requires approval",
      "query": "Add a disabled test business host named AIAgent.DryRun.TestHost.",
      "pass": true,
      "checks": [
        "target in [\"production/host/add\"] => actual 'production/host/add' : PASS",
        "requiresApproval=true => actual true : PASS",
        "response includes any [\"Execution plan prepared\",\"Human approval is required\"] : PASS",
        "response excludes [] : PASS"
      ],
      "responsePreview": "Execution plan prepared. No production changes were executed yet.\nHuman approval is required before applying this mutation.\nProposed actions:\n- Add host 'AIAgent.DryRun.TestHost.' (Ens.BusinessService), enabled=false.",
      "action": {
        "id": "act-1771578764646-807",
        "type": "add_production_host",
        "op": "mutate",
        "target": "production/host/add",
        "summary": "Add host 'AIAgent.DryRun.TestHost.' (Ens.BusinessService), enabled=false.",
        "requiresApproval": true,
        "status": "pending-approval",
        "payload": {
          "args": {
            "config": {
              "name": "AIAgent.DryRun.TestHost.",
              "className": "Ens.BusinessService",
              "category": "AIGenerated",
              "enabled": false
            }
          }
        }
      }
    },
    {
      "id": "RW10",
      "title": "Dry-run remove host",
      "query": "Remove business host named AIAgent.DryRun.TestHost, dry-run only.",
      "pass": true,
      "checks": [
        "target in [\"production/host/remove\"] => actual 'production/host/remove' : PASS",
        "requiresApproval=false => actual false : PASS",
        "response includes any [\"Dry-run executed\",\"\\\"dry_run\\\"\"] : PASS",
        "response excludes [\"Prepare integration change plan\"] : PASS"
      ],
      "responsePreview": "Dry-run executed. No production mutation was applied.\n\nResult:\n```json\n{\n  \"status\": \"dry_run\",\n  \"target\": \"production/host/remove\",\n  \"message\": \"Mutation was not applied because dryRun=true\"\n}\n```",
      "action": {
        "id": "act-1771578764648-657",
        "type": "remove_production_host",
        "op": "mutate",
        "target": "production/host/remove",
        "summary": "Remove host 'AIAgent.DryRun.TestHost'.",
        "requiresApproval": false,
        "status": "executed",
        "payload": {
          "args": {
            "name": "AIAgent.DryRun.TestHost"
          }
        }
      }
    }
  ]
}