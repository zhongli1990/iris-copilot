{
  "generatedAt": "2026-02-20T13:01:42.973Z",
  "version": "0.1.3",
  "namespace": "DEMO2_AI2",
  "runner": "openai-codex-sdk",
  "total": 34,
  "passed": 16,
  "failed": 18,
  "outcomes": [
    {
      "id": "RW01",
      "title": "Production topology full detail",
      "query": "List all production hosts with full details.",
      "pass": true,
      "checks": [
        "target in [\"production/topology\"] => actual 'production/topology' : PASS",
        "requiresApproval=false => actual false : PASS",
        "response includes any [\"Production hosts (\",\"Current production has\"] : PASS",
        "response excludes [\"Prepare integration change plan\"] : PASS"
      ],
      "responsePreview": "Action plan generated from your request.\n\nProduction hosts (73):\n- to.SCR eImport Oscopy | EnsLib.HL7.Operation.TCPOperation | Unknown | Disabled\n- to.SCR eImport Pathology | EnsLib.HL7.Operation.TCPOperation | Unknown | Disabled\n- to.SCR eImport Radiology | EnsLib.HL7.Operation.TCPOperation | Unknown | Disabled\n- to.RMS eImport Oscopy | EnsLib.HL7.Operation.TCPOperation | Unknown | Disabled\n- to.RMS eImport Radiology | EnsLib.HL7.Operation.TCPOperation | Unknown | Disabled\n- Lab ORM Router | En",
      "action": {
        "id": "prod_topology",
        "type": "production_topology",
        "op": "query",
        "target": "production/topology",
        "summary": "Fetch production topology to list all production hosts with full details",
        "requiresApproval": false,
        "status": "executed",
        "endpoint": "/production/topology",
        "method": "GET",
        "payload": {}
      }
    },
    {
      "id": "RW02",
      "title": "Queue depth overview",
      "query": "Show queue depth for all hosts.",
      "pass": true,
      "checks": [
        "target in [\"production/queues\"] => actual 'production/queues' : PASS",
        "requiresApproval=false => actual false : PASS",
        "response includes any [\"Queue counts\",\"Current queue counts\",\"No queue rows were returned.\"] : PASS",
        "response excludes [\"Prepare integration change plan\"] : PASS"
      ],
      "responsePreview": "Action plan generated from your request.\n\nNo queue rows were returned.\n\nExecution results:\n- Queue snapshot read: 0 host(s).",
      "action": {
        "id": "queue_counts",
        "type": "queue_counts",
        "op": "query",
        "target": "production/queues",
        "summary": "Read queue depth for all hosts",
        "requiresApproval": false,
        "status": "executed",
        "endpoint": "/production/queues",
        "method": "GET",
        "payload": {}
      }
    },
    {
      "id": "RW03",
      "title": "Recent production events",
      "query": "Show recent production events.",
      "pass": true,
      "checks": [
        "target in [\"production/events\"] => actual 'production/events' : PASS",
        "requiresApproval=false => actual false : PASS",
        "response includes any [\"Recent events\",\"Recent production events\"] : PASS",
        "response excludes [\"Prepare integration change plan\"] : PASS"
      ],
      "responsePreview": "Action plan generated from your request.\n\nRecent events (50):\n-  |  |  | ERROR <Ens>ErrException: <DISCONNECT>zIsProductionRunning+1^Ens.Director.1 -- logged as '-' number - @''\n-  |  |  | ERROR <Ens>ErrException: <DISCONNECT>zIsProductionRunning+1^Ens.Director.1 -- logged as '-' number - @''\n-  |  |  | Production 'NHSTIE2.Production.OCSProduction' is up-to-date.\n-  |  |  | Production 'NHSTIE2.Production.OCSProduction' updating...\n-  |  |  | Production 'NHSTIE2.Production.OCSProduction' updated.",
      "action": {
        "id": "event_log",
        "type": "event_log",
        "op": "query",
        "target": "production/events",
        "summary": "Show recent production events",
        "requiresApproval": false,
        "status": "executed",
        "endpoint": "/production/events",
        "method": "GET",
        "payload": {}
      }
    },
    {
      "id": "RW04",
      "title": "Lookup table content",
      "query": "Show lookup table ErrorCodes content.",
      "pass": true,
      "checks": [
        "target in [\"lookup/ErrorCodes\"] => actual 'lookup/ErrorCodes' : PASS",
        "requiresApproval=false => actual false : PASS",
        "response includes any [\"Lookup table ErrorCodes\",\"has no entries\"] : PASS",
        "response excludes [\"Prepare integration change plan\"] : PASS"
      ],
      "responsePreview": "Lookup table ErrorCodes entries (23):\n- DC01.01 => Patient Data Missing\n- DC01.02 => Document Data Missing\n- DC01.03 => Document Notes Exceeds 255 Characters\n- DC01.04 => Sender Organisation Exceeds 255 Characters\n- DC01.05 => Sender Department Exceeds 255 Characters\n- DC01.06 => Sender Person Exceeds 255 Characters\n- DC01.07 => Patient Family Name Exceeds 255 Characters\n- DC01.08 => Patient Given Names Exceeds 255 Characters\n- DC01.09 => Patient Birth Date Missing or Future Date\n- DC01.11 => Cl",
      "action": {
        "id": "act-1771592212391-660",
        "type": "lookup_read",
        "op": "query",
        "target": "lookup/ErrorCodes",
        "summary": "Read lookup table 'ErrorCodes' entries.",
        "requiresApproval": false,
        "status": "executed",
        "payload": {
          "args": {}
        }
      }
    },
    {
      "id": "RW05",
      "title": "Class metadata query",
      "query": "Show metadata for class AIAgent.API.Dispatcher.",
      "pass": false,
      "checks": [
        "target in [\"classmeta/AIAgent.API.Dispatcher\"] => actual '' : FAIL",
        "requiresApproval=false => actual false : PASS",
        "response includes any [\"Class metadata:\",\"Methods:\"] : FAIL",
        "response excludes [\"Prepare integration change plan\"] : PASS"
      ],
      "responsePreview": "I could not execute the requested operation. Error: IRIS API error: 404 Not Found",
      "action": {}
    },
    {
      "id": "RW06",
      "title": "Invocation policy query",
      "query": "Show invocation policy.",
      "pass": true,
      "checks": [
        "target in [\"invoke-policy\"] => actual 'invoke-policy' : PASS",
        "requiresApproval=false => actual false : PASS",
        "response includes any [\"Invocation policy:\",\"Mode:\"] : PASS",
        "response excludes [\"Prepare integration change plan\"] : PASS"
      ],
      "responsePreview": "Invocation policy:\n- Mode: allow-by-default\n- Max arguments: 4\n\nExecution results:\n- Invocation policy read.",
      "action": {
        "id": "act-1771592212405-573",
        "type": "invoke_policy_read",
        "op": "discover",
        "target": "invoke-policy",
        "summary": "Read current generic class invocation policy.",
        "requiresApproval": false,
        "status": "executed",
        "payload": {
          "args": {}
        }
      }
    },
    {
      "id": "RW07",
      "title": "Class catalog by package pattern",
      "query": "List classes in the NHSTIE2.* packages.",
      "pass": true,
      "checks": [
        "target in [\"dictionary/classes\"] => actual 'dictionary/classes' : PASS",
        "requiresApproval=false => actual false : PASS",
        "response includes any [\"Classes (\",\"Dictionary class catalog read\"] : PASS",
        "response excludes [\"Prepare integration change plan\"] : PASS"
      ],
      "responsePreview": "Classes (166):\n- NHSTIE2.Alert.Rule | Ens.Rule.Definition\n- NHSTIE2.App.CardioBridgeORU.Data.ProcedureCode | %Persistent\n- NHSTIE2.App.CardioBridgeORU.Data.SolicitedOrderStaging | %Persistent\n- NHSTIE2.App.CardioBridgeORU.Message.AdminMessage | Ens.Request,%XML.Adaptor,Ens.Util.MessageBodyMethods\n- NHSTIE2.App.CardioBridgeORU.Message.AlertMessage | Ens.AlertRequest\n- NHSTIE2.App.CardioBridgeORU.Message.AlertMessageVirtualProps | \n- NHSTIE2.App.CardioBridgeORU.Message.DeviceMetaXML | Ens.Request\n",
      "action": {
        "id": "act-1771592212410-3",
        "type": "dictionary_classes_read",
        "op": "query",
        "target": "dictionary/classes",
        "summary": "List classes matching pattern 'NHSTIE2.%'.",
        "requiresApproval": false,
        "status": "executed",
        "payload": {
          "args": {
            "pattern": "NHSTIE2.%",
            "maxRows": 500
          }
        }
      }
    },
    {
      "id": "RW08",
      "title": "Dry-run add disabled host",
      "query": "Create a plan to add a disabled test business host named AIAgent.DryRun.TestHost, dry-run only.",
      "pass": true,
      "checks": [
        "target in [\"production/host/add\"] => actual 'production/host/add' : PASS",
        "requiresApproval=false => actual false : PASS",
        "response includes any [\"Dry-run executed\",\"\\\"dry_run\\\"\"] : PASS",
        "response excludes [\"Prepare integration change plan\"] : PASS"
      ],
      "responsePreview": "Dry-run executed. No production mutation was applied.\n\nResult:\n```json\n{\n  \"status\": \"dry_run\",\n  \"target\": \"production/host/add\",\n  \"message\": \"Mutation was not applied because dryRun=true\"\n}\n```",
      "action": {
        "id": "act-1771592212418-971",
        "type": "add_production_host",
        "op": "mutate",
        "target": "production/host/add",
        "summary": "Add host 'AIAgent.DryRun.TestHost' (Ens.BusinessService), enabled=false.",
        "requiresApproval": false,
        "status": "executed",
        "payload": {
          "args": {
            "config": {
              "name": "AIAgent.DryRun.TestHost",
              "className": "Ens.BusinessService",
              "category": "AIGenerated",
              "enabled": false
            }
          }
        }
      }
    },
    {
      "id": "RW09",
      "title": "Apply add host requires approval",
      "query": "Add a disabled test business host named AIAgent.DryRun.TestHost.",
      "pass": true,
      "checks": [
        "target in [\"production/host/add\"] => actual 'production/host/add' : PASS",
        "requiresApproval=true => actual true : PASS",
        "response includes any [\"Execution plan prepared\",\"Human approval is required\"] : PASS",
        "response excludes [] : PASS"
      ],
      "responsePreview": "Execution plan prepared. No production changes were executed yet.\nHuman approval is required before applying this mutation.\nProposed actions:\n- Add host 'AIAgent.DryRun.TestHost.' (Ens.BusinessService), enabled=false.",
      "action": {
        "id": "act-1771592212424-965",
        "type": "add_production_host",
        "op": "mutate",
        "target": "production/host/add",
        "summary": "Add host 'AIAgent.DryRun.TestHost.' (Ens.BusinessService), enabled=false.",
        "requiresApproval": true,
        "status": "pending-approval",
        "payload": {
          "args": {
            "config": {
              "name": "AIAgent.DryRun.TestHost.",
              "className": "Ens.BusinessService",
              "category": "AIGenerated",
              "enabled": false
            }
          }
        }
      }
    },
    {
      "id": "RW10",
      "title": "Dry-run remove host",
      "query": "Remove business host named AIAgent.DryRun.TestHost, dry-run only.",
      "pass": true,
      "checks": [
        "target in [\"production/host/remove\"] => actual 'production/host/remove' : PASS",
        "requiresApproval=false => actual false : PASS",
        "response includes any [\"Dry-run executed\",\"\\\"dry_run\\\"\"] : PASS",
        "response excludes [\"Prepare integration change plan\"] : PASS"
      ],
      "responsePreview": "Dry-run executed. No production mutation was applied.\n\nResult:\n```json\n{\n  \"status\": \"dry_run\",\n  \"target\": \"production/host/remove\",\n  \"message\": \"Mutation was not applied because dryRun=true\"\n}\n```",
      "action": {
        "id": "act-1771592212427-525",
        "type": "remove_production_host",
        "op": "mutate",
        "target": "production/host/remove",
        "summary": "Remove host 'AIAgent.DryRun.TestHost'.",
        "requiresApproval": false,
        "status": "executed",
        "payload": {
          "args": {
            "name": "AIAgent.DryRun.TestHost"
          }
        }
      }
    },
    {
      "id": "RW11",
      "title": "Platform health snapshot",
      "query": "Recap current platform health, active production, and runner status.",
      "pass": true,
      "checks": [
        "target in [\"production/status\"] => actual 'production/status' : PASS",
        "requiresApproval=false => actual false : PASS",
        "response includes any [\"Production status\",\"Runner health\",\"Bridge\"] : PASS",
        "response excludes [] : PASS"
      ],
      "responsePreview": "Action plan generated from your request.\n\nProduction status:\n- Name: NHSTIE2.Production.OCSProduction\n- Status: Running\n- Namespace: DEMO2_AI2\n\nExecution results:\n- Production status: Running (NHSTIE2.Production.OCSProduction)",
      "action": {
        "id": "prod_status",
        "type": "production_status",
        "op": "query",
        "target": "production/status",
        "summary": "Get platform health, active production, and runner status",
        "requiresApproval": false,
        "status": "executed",
        "endpoint": "/production/status",
        "method": "GET",
        "payload": {}
      }
    },
    {
      "id": "RW12",
      "title": "Production host names only",
      "query": "List all production host names only.",
      "pass": true,
      "checks": [
        "target in [\"production/topology\"] => actual 'production/topology' : PASS",
        "requiresApproval=false => actual false : PASS",
        "response includes any [\"Production hosts (\",\"host(s)\"] : PASS",
        "response excludes [] : PASS"
      ],
      "responsePreview": "Action plan generated from your request.\n\nProduction hosts (73):\n- to.SCR eImport Oscopy\n- to.SCR eImport Pathology\n- to.SCR eImport Radiology\n- to.RMS eImport Oscopy\n- to.RMS eImport Radiology\n- Lab ORM Router\n- Osc ORM Router\n- Rad ORM Router\n- to.Winpath.ORM\n- from.Winpath.ORU\n- to.SolusCardiology.ORM\n- to.SolusEndoscopy.ORM\n- Lab ORU Router\n- Rad ORU Router\n- To.Sectra.ORM\n- from.Sectra.ORM\n- Osc ORU Router\n- Car ORU Router\n- Car ORM Router\n- from.Sectra.ORU\n- from.SolusEndoscopy.ORU\n- from.",
      "action": {
        "id": "prod_topology",
        "type": "production_topology",
        "op": "query",
        "target": "production/topology",
        "summary": "Fetch production topology to list all production host names",
        "requiresApproval": false,
        "status": "executed",
        "endpoint": "/production/topology",
        "method": "GET",
        "payload": {}
      }
    },
    {
      "id": "RW13",
      "title": "Disabled host inventory",
      "query": "Show all currently disabled business hosts.",
      "pass": true,
      "checks": [
        "target in [\"production/topology\"] => actual 'production/topology' : PASS",
        "requiresApproval=false => actual false : PASS",
        "response includes any [\"disabled\",\"host\"] : PASS",
        "response excludes [] : PASS"
      ],
      "responsePreview": "Action plan generated from your request.\n\nProduction hosts (73):\n- to.SCR eImport Oscopy | EnsLib.HL7.Operation.TCPOperation | Unknown | Disabled\n- to.SCR eImport Pathology | EnsLib.HL7.Operation.TCPOperation | Unknown | Disabled\n- to.SCR eImport Radiology | EnsLib.HL7.Operation.TCPOperation | Unknown | Disabled\n- to.RMS eImport Oscopy | EnsLib.HL7.Operation.TCPOperation | Unknown | Disabled\n- to.RMS eImport Radiology | EnsLib.HL7.Operation.TCPOperation | Unknown | Disabled\n- Lab ORM Router | En",
      "action": {
        "id": "prod_topology",
        "type": "production_topology",
        "op": "query",
        "target": "production/topology",
        "summary": "Fetch production topology to identify disabled business hosts",
        "requiresApproval": false,
        "status": "executed",
        "endpoint": "/production/topology",
        "method": "GET",
        "payload": {}
      }
    },
    {
      "id": "RW14",
      "title": "Recent error events",
      "query": "Show recent production events with level ERROR in the last 60 minutes.",
      "pass": true,
      "checks": [
        "target in [\"production/events\"] => actual 'production/events' : PASS",
        "requiresApproval=false => actual false : PASS",
        "response includes any [\"Recent events\",\"No recent event rows were returned.\"] : PASS",
        "response excludes [] : PASS"
      ],
      "responsePreview": "Action plan generated from your request.\n\nRecent events (50):\n-  |  |  | ERROR <Ens>ErrException: <DISCONNECT>zIsProductionRunning+1^Ens.Director.1 -- logged as '-' number - @''\n-  |  |  | ERROR <Ens>ErrException: <DISCONNECT>zIsProductionRunning+1^Ens.Director.1 -- logged as '-' number - @''\n-  |  |  | Production 'NHSTIE2.Production.OCSProduction' is up-to-date.\n-  |  |  | Production 'NHSTIE2.Production.OCSProduction' updating...\n-  |  |  | Production 'NHSTIE2.Production.OCSProduction' updated.",
      "action": {
        "id": "event_log",
        "type": "event_log",
        "op": "query",
        "target": "production/events",
        "summary": "Fetch recent production events to filter ERROR level within last 60 minutes",
        "requiresApproval": false,
        "status": "executed",
        "endpoint": "/production/events",
        "method": "GET",
        "payload": {}
      }
    },
    {
      "id": "RW15",
      "title": "Queue hotspots",
      "query": "Which 10 hosts have the highest queue depth right now?",
      "pass": true,
      "checks": [
        "target in [\"production/queues\"] => actual 'production/queues' : PASS",
        "requiresApproval=false => actual false : PASS",
        "response includes any [\"Queue counts\",\"No queue rows were returned.\"] : PASS",
        "response excludes [] : PASS"
      ],
      "responsePreview": "Action plan generated from your request.\n\nNo queue rows were returned.\n\nExecution results:\n- Queue snapshot read: 0 host(s).",
      "action": {
        "id": "queue_counts",
        "type": "queue_counts",
        "op": "query",
        "target": "production/queues",
        "summary": "Fetch queue depths to identify top 10 hosts by depth",
        "requiresApproval": false,
        "status": "executed",
        "endpoint": "/production/queues",
        "method": "GET",
        "payload": {}
      }
    },
    {
      "id": "RW16",
      "title": "New interface design plan",
      "query": "Design an interface plan for ADT A01/A02/A03 from PAS to DrDoctor with required transforms and routing.",
      "pass": false,
      "checks": [
        "target in [\"plan/preview\"] => actual '' : FAIL",
        "requiresApproval=false => actual false : PASS",
        "response includes any [\"plan\",\"A01\",\"A02\",\"A03\"] : PASS",
        "response excludes [] : PASS"
      ],
      "responsePreview": "Here's a design plan for **PAS → DrDoctor** ADT **A01/A02/A03** with transforms and routing. I'll keep it implementation‑ready but won't generate code until you confirm the open items.\n\n**1) Requirement Summary**\n- Source: PAS (likely IPM)\n- Messages: HL7 ADT A01, A02, A03\n- Target: DrDoctor\n- Goal: Route specific ADT events to DrDoctor with required HL7 transforms\n\n**2) Proposed Topology (Existing + New)**\n- **Inbound Service (existing)**: PAS inbound (e.g., \"HL7 from IPM\" using HTTP or TCP)\n- ",
      "action": {}
    },
    {
      "id": "RW17",
      "title": "Existing router change plan",
      "query": "Create a change plan to add a new downstream operation to the current PAS router for A08 messages only.",
      "pass": false,
      "checks": [
        "target in [\"plan/preview\"] => actual '' : FAIL",
        "requiresApproval=false => actual true : FAIL",
        "response includes any [\"plan\",\"A08\",\"router\"] : PASS",
        "response excludes [] : PASS"
      ],
      "responsePreview": "Execution plan prepared. No production changes were executed yet.\nHuman approval is required before deployment or runtime mutations.\nProposed actions:\n- Prepare integration change plan and require explicit approval before apply/deploy.",
      "action": {
        "id": "act-1771592369269-209",
        "type": "integration_change_plan",
        "summary": "Prepare integration change plan and require explicit approval before apply/deploy.",
        "requiresApproval": true,
        "status": "pending-approval"
      }
    },
    {
      "id": "RW18",
      "title": "DTL impact assessment",
      "query": "Assess impact of changing PID-3 mapping in the existing PAS ADT transform.",
      "pass": false,
      "checks": [
        "target in [\"plan/preview\"] => actual '' : FAIL",
        "requiresApproval=false => actual false : PASS",
        "response includes any [\"impact\",\"PID-3\",\"transform\"] : PASS",
        "response excludes [] : PASS"
      ],
      "responsePreview": "Impact assessment: changing PID-3 mapping in the existing PAS ADT transform is **high‑impact** and touches identity, routing, downstream acceptance, and audit trails.\n\n**Likely impact areas**\n1. **Patient identity in downstream systems**\n   - Many consumers treat `PID:3(1).1` as the local MRN and `PID:3(2).1` as NHS number.\n   - Swapping repeats or changing components can cause **mis‑identification**, duplicate patient creation, or message rejection.\n\n2. **Routing / business rules**\n   - Any rul",
      "action": {}
    },
    {
      "id": "RW19",
      "title": "Generate business operation dry-run",
      "query": "Create a dry-run plan for a new disabled business operation AIAgent.Generated.DrDoctor.Operation.",
      "pass": false,
      "checks": [
        "target in [\"production/host/add\"] => actual 'production/host/add' : PASS",
        "requiresApproval=false => actual true : FAIL",
        "response includes any [\"Dry-run\",\"disabled\",\"business operation\"] : FAIL",
        "response excludes [] : PASS"
      ],
      "responsePreview": "Action plan generated from your request.\n\nPending approval actions are ready for `/api/actions/approve`.",
      "action": {
        "id": "dryrun_add_host",
        "type": "add_production_host",
        "op": "mutate",
        "target": "production/host/add",
        "summary": "Dry-run plan to add disabled business operation AIAgent.Generated.DrDoctor.Operation",
        "requiresApproval": true,
        "status": "pending-approval",
        "endpoint": "/operate",
        "method": "POST",
        "payload": {
          "args": {
            "className": "AIAgent.Generated.DrDoctor.Operation",
            "name": "AIAgent.Generated.DrDoctor.Operation",
            "category": "Operation",
            "enabled": 0,
            "dryRun": true
          }
        }
      }
    },
    {
      "id": "RW20",
      "title": "Generate router rule delta dry-run",
      "query": "Prepare dry-run router rule updates to route ORM messages to a new operation.",
      "pass": false,
      "checks": [
        "target in [\"plan/preview\"] => actual '' : FAIL",
        "requiresApproval=false => actual true : FAIL",
        "response includes any [\"dry-run\",\"ORM\",\"route\"] : FAIL",
        "response excludes [] : PASS"
      ],
      "responsePreview": "Execution plan prepared. No production changes were executed yet.\nHuman approval is required before deployment or runtime mutations.\nProposed actions:\n- Prepare integration change plan and require explicit approval before apply/deploy.",
      "action": {
        "id": "act-1771592402343-389",
        "type": "integration_change_plan",
        "summary": "Prepare integration change plan and require explicit approval before apply/deploy.",
        "requiresApproval": true,
        "status": "pending-approval"
      }
    },
    {
      "id": "RW21",
      "title": "Generate with approval gate",
      "query": "Generate and stage required classes for a new ORU pathway; do not deploy until I approve.",
      "pass": false,
      "checks": [
        "target in [\"plan/preview\"] => actual '' : FAIL",
        "requiresApproval=true => actual true : PASS",
        "response includes any [\"approve\",\"stage\",\"ORU\"] : PASS",
        "response excludes [] : PASS"
      ],
      "responsePreview": "Execution plan prepared. No production changes were executed yet.\nHuman approval is required before deployment or runtime mutations.\nProposed actions:\n- Approve the pending generation and deploy to IRIS production.",
      "action": {
        "id": "act-1771592407398-230",
        "type": "approve_deploy_generation",
        "summary": "Approve the pending generation and deploy to IRIS production.",
        "requiresApproval": true,
        "status": "pending-approval",
        "endpoint": "/generate/approve",
        "method": "POST",
        "payload": {}
      }
    },
    {
      "id": "RW22",
      "title": "Approve pending generation deploy",
      "query": "Approve the latest staged generation and deploy it now.",
      "pass": false,
      "checks": [
        "target in [\"generate/approve\"] => actual 'generation/approve' : FAIL",
        "requiresApproval=true => actual true : PASS",
        "response includes any [\"approve\",\"deploy\"] : PASS",
        "response excludes [] : PASS"
      ],
      "responsePreview": "Action plan generated from your request.\n\nPending approval actions are ready for `/api/actions/approve`.",
      "action": {
        "id": "approve_generation",
        "type": "approve_deploy_generation",
        "op": "execute",
        "target": "generation/approve",
        "summary": "Approve and deploy the latest staged generation",
        "requiresApproval": true,
        "status": "pending-approval",
        "endpoint": "/generate/approve",
        "method": "POST",
        "payload": {}
      }
    },
    {
      "id": "RW23",
      "title": "Reject pending generation",
      "query": "Reject the currently staged generation and close it without deployment.",
      "pass": false,
      "checks": [
        "target in [\"generate/reject\"] => actual 'generation/reject' : FAIL",
        "requiresApproval=true => actual true : PASS",
        "response includes any [\"reject\",\"without deployment\"] : FAIL",
        "response excludes [] : PASS"
      ],
      "responsePreview": "Action plan generated from your request.\n\nPending approval actions are ready for `/api/actions/approve`.",
      "action": {
        "id": "reject_generation",
        "type": "reject_generation",
        "op": "execute",
        "target": "generation/reject",
        "summary": "Reject the currently staged generation without deployment",
        "requiresApproval": true,
        "status": "pending-approval",
        "endpoint": "/generate/reject",
        "method": "POST",
        "payload": {}
      }
    },
    {
      "id": "RW24",
      "title": "Compile validation",
      "query": "Compile all newly generated classes and show errors if any.",
      "pass": false,
      "checks": [
        "target in [\"plan/preview\"] => actual '' : FAIL",
        "requiresApproval=false => actual false : PASS",
        "response includes any [\"compile\",\"errors\",\"classes\"] : PASS",
        "response excludes [] : PASS"
      ],
      "responsePreview": "I can compile, but I don't have a direct compile action exposed in the action catalog. Please provide one of these so I can proceed:\n\n1. The **exact class list** to compile, plus the **approved compile utility/method** (if there's a policy‑approved class method for compilation).\n2. Confirmation that I should compile **the latest staged generation** and which API/method your environment uses for that.\n\nOnce you confirm, I'll run the compile and report any errors.",
      "action": {}
    },
    {
      "id": "RW25",
      "title": "Post-deploy smoke checklist",
      "query": "Run post-deploy verification checklist for the new route and summarize pass/fail.",
      "pass": false,
      "checks": [
        "target in [\"plan/preview\"] => actual '' : FAIL",
        "requiresApproval=false => actual true : FAIL",
        "response includes any [\"checklist\",\"pass\",\"fail\"] : FAIL",
        "response excludes [] : PASS"
      ],
      "responsePreview": "Execution plan prepared. No production changes were executed yet.\nHuman approval is required before deployment or runtime mutations.\nProposed actions:\n- Approve the pending generation and deploy to IRIS production.",
      "action": {
        "id": "act-1771592431322-592",
        "type": "approve_deploy_generation",
        "summary": "Approve the pending generation and deploy to IRIS production.",
        "requiresApproval": true,
        "status": "pending-approval",
        "endpoint": "/generate/approve",
        "method": "POST",
        "payload": {}
      }
    },
    {
      "id": "RW26",
      "title": "Route presence verification",
      "query": "Confirm the new operation is connected in router rules and currently disabled.",
      "pass": true,
      "checks": [
        "target in [\"production/topology\"] => actual 'production/topology' : PASS",
        "requiresApproval=false => actual false : PASS",
        "response includes any [\"connected\",\"disabled\",\"router\"] : PASS",
        "response excludes [] : PASS"
      ],
      "responsePreview": "Action plan generated from your request.\n\nProduction hosts (73):\n- to.SCR eImport Oscopy | EnsLib.HL7.Operation.TCPOperation | Unknown | Disabled\n- to.SCR eImport Pathology | EnsLib.HL7.Operation.TCPOperation | Unknown | Disabled\n- to.SCR eImport Radiology | EnsLib.HL7.Operation.TCPOperation | Unknown | Disabled\n- to.RMS eImport Oscopy | EnsLib.HL7.Operation.TCPOperation | Unknown | Disabled\n- to.RMS eImport Radiology | EnsLib.HL7.Operation.TCPOperation | Unknown | Disabled\n- Lab ORM Router | En",
      "action": {
        "id": "prod_topology",
        "type": "production_topology",
        "op": "query",
        "target": "production/topology",
        "summary": "Check whether the new operation is connected in router rules and currently disabled",
        "requiresApproval": false,
        "status": "executed",
        "endpoint": "/production/topology",
        "method": "GET",
        "payload": {}
      }
    },
    {
      "id": "RW27",
      "title": "Message flow readiness",
      "query": "Validate readiness for A01/A02/A03 traffic through the new route without enabling it.",
      "pass": false,
      "checks": [
        "target in [\"plan/preview\"] => actual 'production/topology' : FAIL",
        "requiresApproval=false => actual false : PASS",
        "response includes any [\"readiness\",\"A01\",\"A02\",\"A03\"] : FAIL",
        "response excludes [] : PASS"
      ],
      "responsePreview": "Action plan generated from your request.\n\nProduction hosts (73):\n- to.SCR eImport Oscopy | EnsLib.HL7.Operation.TCPOperation | Unknown | Disabled\n- to.SCR eImport Pathology | EnsLib.HL7.Operation.TCPOperation | Unknown | Disabled\n- to.SCR eImport Radiology | EnsLib.HL7.Operation.TCPOperation | Unknown | Disabled\n- to.RMS eImport Oscopy | EnsLib.HL7.Operation.TCPOperation | Unknown | Disabled\n- to.RMS eImport Radiology | EnsLib.HL7.Operation.TCPOperation | Unknown | Disabled\n- Lab ORM Router | En",
      "action": {
        "id": "prod_topology",
        "type": "production_topology",
        "op": "query",
        "target": "production/topology",
        "summary": "Validate readiness for A01/A02/A03 traffic through the new route (check routing connections and disabled state)",
        "requiresApproval": false,
        "status": "executed",
        "endpoint": "/production/topology",
        "method": "GET",
        "payload": {}
      }
    },
    {
      "id": "RW28",
      "title": "Queue spike investigation",
      "query": "Investigate why queue depth spiked in the last hour and identify likely bottleneck hosts.",
      "pass": true,
      "checks": [
        "target in [\"production/queues\"] => actual 'production/queues' : PASS",
        "requiresApproval=false => actual false : PASS",
        "response includes any [\"queue\",\"bottleneck\",\"host\"] : PASS",
        "response excludes [] : PASS"
      ],
      "responsePreview": "Action plan generated from your request.\n\nNo queue rows were returned.\nRecent events (50):\n-  |  |  | ERROR <Ens>ErrException: <DISCONNECT>zIsProductionRunning+1^Ens.Director.1 -- logged as '-' number - @''\n-  |  |  | ERROR <Ens>ErrException: <DISCONNECT>zIsProductionRunning+1^Ens.Director.1 -- logged as '-' number - @''\n-  |  |  | Production 'NHSTIE2.Production.OCSProduction' is up-to-date.\n-  |  |  | Production 'NHSTIE2.Production.OCSProduction' updating...\n-  |  |  | Production 'NHSTIE2.Produ",
      "action": {
        "id": "queue_counts",
        "type": "queue_counts",
        "op": "query",
        "target": "production/queues",
        "summary": "Fetch current queue depths to identify bottleneck hosts",
        "requiresApproval": false,
        "status": "executed",
        "endpoint": "/production/queues",
        "method": "GET",
        "payload": {}
      }
    },
    {
      "id": "RW29",
      "title": "Failed message triage",
      "query": "Show failed/retried message indicators for the last 2 hours and likely causes.",
      "pass": false,
      "checks": [
        "target in [\"production/events\"] => actual 'production/events' : PASS",
        "requiresApproval=false => actual false : PASS",
        "response includes any [\"failed\",\"retried\",\"cause\"] : FAIL",
        "response excludes [] : PASS"
      ],
      "responsePreview": "Action plan generated from your request.\n\nRecent events (50):\n-  |  |  | ERROR <Ens>ErrException: <DISCONNECT>zIsProductionRunning+1^Ens.Director.1 -- logged as '-' number - @''\n-  |  |  | ERROR <Ens>ErrException: <DISCONNECT>zIsProductionRunning+1^Ens.Director.1 -- logged as '-' number - @''\n-  |  |  | Production 'NHSTIE2.Production.OCSProduction' is up-to-date.\n-  |  |  | Production 'NHSTIE2.Production.OCSProduction' updating...\n-  |  |  | Production 'NHSTIE2.Production.OCSProduction' updated.",
      "action": {
        "id": "event_log",
        "type": "event_log",
        "op": "query",
        "target": "production/events",
        "summary": "Fetch recent production events to identify failed/retried indicators in last 2 hours",
        "requiresApproval": false,
        "status": "executed",
        "endpoint": "/production/events",
        "method": "GET",
        "payload": {}
      }
    },
    {
      "id": "RW30",
      "title": "Runner platform drift check",
      "query": "Check whether runner health or bridge connectivity changed in the last 30 minutes.",
      "pass": false,
      "checks": [
        "target in [\"production/status\"] => actual 'production/status' : PASS",
        "requiresApproval=false => actual false : PASS",
        "response includes any [\"runner\",\"bridge\",\"health\"] : FAIL",
        "response excludes [] : PASS"
      ],
      "responsePreview": "Action plan generated from your request.\n\nProduction status:\n- Name: NHSTIE2.Production.OCSProduction\n- Status: Running\n- Namespace: DEMO2_AI2\n\nExecution results:\n- Production status: Running (NHSTIE2.Production.OCSProduction)",
      "action": {
        "id": "prod_status",
        "type": "production_status",
        "op": "query",
        "target": "production/status",
        "summary": "Check runner health or bridge connectivity changes in the last 30 minutes",
        "requiresApproval": false,
        "status": "executed",
        "endpoint": "/production/status",
        "method": "GET",
        "payload": {}
      }
    },
    {
      "id": "RW31",
      "title": "Prepare rollback plan",
      "query": "Prepare rollback plan to previous stable version for the latest deployment, no execution.",
      "pass": false,
      "checks": [
        "target in [\"lifecycle/rollback\"] => actual '' : FAIL",
        "requiresApproval=true => actual true : PASS",
        "response includes any [\"rollback\",\"plan\",\"no execution\"] : PASS",
        "response excludes [] : PASS"
      ],
      "responsePreview": "Execution plan prepared. No production changes were executed yet.\nHuman approval is required before deployment or runtime mutations.\nProposed actions:\n- Rollback production to a selected previous version snapshot.",
      "action": {
        "id": "act-1771592471704-804",
        "type": "rollback_version",
        "summary": "Rollback production to a selected previous version snapshot.",
        "requiresApproval": true,
        "status": "pending-approval",
        "endpoint": "/lifecycle/rollback/:id",
        "method": "POST",
        "payload": {}
      }
    },
    {
      "id": "RW32",
      "title": "Execute rollback approval gated",
      "query": "Rollback to the previous stable snapshot now.",
      "pass": false,
      "checks": [
        "target in [\"lifecycle/rollback\"] => actual 'lifecycle/versions' : FAIL",
        "requiresApproval=true => actual false : FAIL",
        "response includes any [\"rollback\",\"snapshot\"] : FAIL",
        "response excludes [] : PASS"
      ],
      "responsePreview": "Action plan generated from your request.\n\nResult:\n```json\n[]\n```\n\nExecution results:\n- lifecycle/versions executed.",
      "action": {
        "id": "lifecycle_versions",
        "type": "lifecycle_versions",
        "op": "query",
        "target": "lifecycle/versions",
        "summary": "List lifecycle versions to select previous stable snapshot for rollback",
        "requiresApproval": false,
        "status": "executed",
        "endpoint": "/lifecycle/versions",
        "method": "GET",
        "payload": {}
      }
    },
    {
      "id": "RW33",
      "title": "Audit trail by conversation",
      "query": "Show the audit trail for this conversation including requested actions and outcomes.",
      "pass": false,
      "checks": [
        "target in [\"plan/preview\"] => actual '' : FAIL",
        "requiresApproval=false => actual false : PASS",
        "response includes any [\"audit\",\"actions\",\"outcomes\"] : PASS",
        "response excludes [] : PASS"
      ],
      "responsePreview": "{\"mode\":\"respond\",\"response\":\"No audit-trail action is available in the action catalog, so I cannot fetch an authoritative audit log. If you want, I can summarize the actions I proposed in this conversation from chat history. Tell me to proceed.\",\"actions\":[]}",
      "action": {}
    },
    {
      "id": "RW34",
      "title": "CAB ready summary",
      "query": "Produce CAB-ready summary of planned/applied integration changes and risks.",
      "pass": false,
      "checks": [
        "target in [\"plan/preview\"] => actual '' : FAIL",
        "requiresApproval=false => actual false : PASS",
        "response includes any [\"CAB\",\"changes\",\"risks\"] : PASS",
        "response excludes [] : PASS"
      ],
      "responsePreview": "{\"mode\":\"respond\",\"response\":\"CAB Summary (based on this conversation only; no live audit log available)\\n\\n**Change Type**\\n- Planned integration changes only. No confirmed deployments or applied production mutations in this session.\\n\\n**Planned/Proposed Changes**\\n1. PAS -> DrDoctor ADT A01/A02/A03 route\\n   - Add routing rules in existing PAS router for ADT A01/A02/A03\\n   - Add DTL transform for PAS ADT to DrDoctor format\\n   - Add new outbound business operation for DrDoctor\\n\\n2. PAS rout",
      "action": {}
    }
  ]
}